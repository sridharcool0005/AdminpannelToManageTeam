<div class="card">
  <h3 class="card-header text-center font-weight-bold text-uppercase py-4">Purchase Analysis</h3>
  <div class="container">
    <div class="row">
      <div class="col-md-6 search">

        <input type="text" [(ngModel)]="client_firstname" placeholder=" Search By Name" aria-label="Search"
          (input)="search()">
        &nbsp;
        <form (ngSubmit)="regform.form.valid&&getpurchaseDataByDate(regform.form.value)" #regform="ngForm">
          <label>From Date:</label>
          <input type="date"  name="fromDate" ngModel>&nbsp;
          <label>To Date:</label>
          <input type="date" name="toDate" ngModel>
          <input type="submit">
        </form>



      </div>
      <div class="col-md-4 mubutn">
        <img class="xlicon media " src="assets/img/xlicon.png" (click)="exportAsXLSX()">
      </div>
    </div>
  </div>
  <div class="card-body">
    <div id="table" class="table-editable">

      <table class="table table-bordered table-responsive-md table-striped text-center table-media">
        <tr style="background-color: darkblue;color:white">
          <th class="text-center">
            Client ID</th>
          <th class="text-center">
            FullName</th>
          <th class="text-center">DateofPurchase</th>
          <th class="text-center">Amount Paid</th>
          <th class="text-center">order_id</th>
          <th class="text-center">package_id</th>
          <th class="text-center">Payment Status</th>
          <th colspan="2" class="text-center">Action
          </th>

        </tr>
        <tr *ngFor="let person of personList; let id = index">
          <td>
            {{person.client_id}}
          </td>
          <td>
            {{person.client_firstname}}{{person.client_lastname}}
          </td>
          <td name="name">
             {{person.txn_date| date: 'dd/MM/yyyy'}}
          </td>
          <td>{{person.total_amount_paid}}</td>
          <td>{{person.order_id}}</td>
          <td>{{person.package_id}}</td>
          <td name="mobile">
            <select [(ngModel)]="person.payment_status_code">
              <option value="success">success</option>
              <option value="pending">pending</option>
              <option value="Cancel">Cancel</option>

            </select>
          </td>

          <td>
            <a><span class="material-icons">
                save
              </span></a>
          </td>

          <td>
            <a> <span class="material-icons" [routerLink]="['/viewPurchaseDetailed',person.package_id,person.order_id]" matTooltip="View Detailed"
                matTooltipClass="example-tooltip-red" aria-label="Button that shows a red tooltip">
                visibility
              </span>
            </a>
          </td>


        </tr>
      </table>

    </div>
  </div>
</div>
